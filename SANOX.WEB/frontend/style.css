:root {
    --primary-color: #00ff99;
    --dark-bg: #0a0a0a;
    --medium-bg: #1a1a1a;
    --text-color: #f0f0f0;
    --shadow-color: rgba(0, 255, 153, 0.5);
    --success-color: #34c759;
    --error-color: #ff3b30;
    
    --login-bg: #f0f2f5;
    --login-card-bg: #2c2f36;
    --login-input-bg: #3a3d44;
    --login-text-color: #e0e0e0;
    --login-button-bg: #28a745;
}

/* --- ESTILOS GENERALES Y DE LOGIN (Sin cambios) --- */
body { margin: 0; font-family: 'Roboto', sans-serif; }
body.login-active {
    display: flex; flex-direction: column; justify-content: center;
    align-items: center; height: 100vh; background: var(--login-bg);
    font-family: 'Roboto', sans-serif; overflow: hidden;
}
body.app-active {
    background-color: #f5f7fa; color: #333;
    position: relative; min-height: 100vh;
}
.login-container, .register-container { display: block; text-align: center; }
.login-container.hidden, .register-container.hidden { display: none; }
.login-wrapper {
    background: var(--login-card-bg); padding: 40px; border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); width: 100%;
    max-width: 400px; margin-top: 20px;
}
.form-container h2 {
    margin-bottom: 30px; color: var(--login-text-color);
    font-weight: 500; font-size: 24px;
}
.form-container select, .form-container input {
    width: 100%; padding: 15px; background: var(--login-input-bg);
    border: 1px solid #555; border-radius: 8px; color: var(--login-text-color);
    font-size: 16px; margin-bottom: 20px; transition: all 0.3s;
    font-family: 'Roboto', sans-serif;
}
.form-container select {
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e0e0e0'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
    background-repeat: no-repeat; background-position: right 15px center;
    background-size: 1em; padding-right: 40px;
}
.password-container { position: relative; width: 100%; }
.password-container input { padding-right: 45px; }
.toggle-password {
    position: absolute; top: 50%; right: 15px;
    transform: translateY(-70%); cursor: pointer;
    color: #888; transition: color 0.3s;
}
.toggle-password:hover { color: #fff; }
.form-container select:focus, .form-container input:focus {
    outline: none; border-color: var(--login-button-bg);
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.3);
}
.form-container button {
    width: 100%; padding: 15px; background: var(--login-button-bg);
    border: none; border-radius: 8px; color: white;
    font-size: 18px; font-weight: 700; cursor: pointer; transition: all 0.3s;
}
.form-container button:hover { opacity: 0.9; transform: translateY(-2px); }
.toggle-link {
    text-align: center; margin-top: 20px;
    font-size: 0.9em; color: #aaa;
}
.toggle-link a {
    color: #fff; text-decoration: none;
    font-weight: 600; cursor: pointer;
}
.error-message {
    color: var(--error-color); font-size: 0.9em;
    text-align: center; margin-top: 15px; display: none;
}
.input-group small {
    font-size: 0.8em; color: #aaa;
    margin-top: -10px; margin-bottom: 10px;
    display: block; text-align: left;
}
/* Estilos del Robot (Sin cambios) */
.robot-container { width: 250px; height: 200px; margin: 0 auto; display: grid; place-items: center; position: relative; }
.robot { position: relative; transform-origin: bottom center; width: 150px; height: 220px; cursor: pointer; }
.dream-cloud { position: absolute; top: -50px; right: -30px; width: 120px; height: 70px; background: var(--login-card-bg); border: 2px solid var(--primary-color); border-radius: 50%; box-shadow: 0 0 15px var(--primary-color); opacity: 0; transform-origin: bottom left; pointer-events: none; display: flex; align-items: center; justify-content: center; font-size: 0.8em; color: var(--primary-color); text-shadow: 0 0 5px var(--primary-color); letter-spacing: 1px; font-family: 'Orbitron', sans-serif; }
.dream-cloud::before, .dream-cloud::after { content: ''; position: absolute; background: var(--login-card-bg); border: 2px solid var(--primary-color); border-radius: 50%; }
.dream-cloud::before { width: 60px; height: 60px; top: -30px; left: 20px; }
.dream-cloud::after { width: 40px; height: 40px; top: 0px; right: -10px; }
.dream-code { position: relative; z-index: 1; }
.robot-head { width: 120px; height: 100px; background: linear-gradient(145deg, #282828, #111); border-radius: 35px; position: absolute; left: 50%; transform: translateX(-50%); top: 0; border: 2px solid #333; box-shadow: inset 0 4px 10px rgba(0,0,0,0.5); }
.ear { position: absolute; width: 25px; height: 60px; background: #222; border-radius: 15px; top: 20px; border: 2px solid #333; transition: box-shadow 0.2s; }
.ear.left { left: -15px; }
.ear.right { right: -15px; }
.face { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: 15px; }
.eyes { display: flex; gap: 20px; }
.eye-light { width: 30px; height: 12px; background-color: var(--primary-color); border-radius: 4px; box-shadow: 0 0 15px var(--primary-color), 0 0 25px var(--primary-color); }
.mouth { width: 25px; height: 4px; background-color: var(--primary-color); border-radius: 2px; box-shadow: 0 0 10px var(--primary-color); }
.robot-body { position: absolute; width: 150px; height: 100px; background: linear-gradient(145deg, #222, #000); top: 105px; left: 50%; transform: translateX(-50%); border-radius: 10px 10px 25px 25px; border: 2px solid #333; display: grid; place-items: center; font-size: 1.2em; color: var(--primary-color); text-shadow: 0 0 8px var(--primary-color); font-family: 'Orbitron', sans-serif; }
.chest-logo { letter-spacing: 2px; }


/* --- Estilos del App Core (Sin cambios) --- */
* { margin: 0; padding: 0; box-sizing: border-box; }
.main-container {
    display: flex; width: 100%; margin: 0;
    height: 100vh; background: white;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden; display: none;
}
.sidebar {
    width: 70px; background: #1a1a2e; color: white;
    transition: all 0.3s ease; overflow: hidden; position: relative;
    display: flex; flex-direction: column;
}
.sidebar:hover { width: 220px; }

.profile-section {
    width: 50px; height: 50px; border-radius: 50%; background: #333;
    margin-bottom: 0; cursor: pointer; overflow: hidden;
    position: relative; border: 2px solid #28a745;
    display: flex; align-items: center; justify-content: center;
    margin-left: 10px; margin-top: 20px;
    flex-shrink: 0; 
}
.profile-section img { width: 100%; height: 100%; object-fit: cover; display: none; }
.profile-section .default-avatar { color: white; font-size: 20px; }
.profile-upload-btn {
    position: absolute; bottom: 0; right: 0; width: 20px; height: 20px;
    background: #28a745; color: white; border: none; border-radius: 50%;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    font-size: 12px; line-height: 1;
}
.profile-section input { display: none; }
.profile-info {
    text-align: center; padding: 0 10px 15px 10px; 
    overflow: hidden; flex-shrink: 0;
}
.profile-username, .profile-role {
    display: block; white-space: nowrap; opacity: 0; 
    transition: opacity 0.3s ease; color: white;
}
.sidebar:hover .profile-username,
.sidebar:hover .profile-role { opacity: 1; }
.profile-username {
    font-size: 1em; font-weight: 700; margin-top: 10px; 
}
.profile-role {
    font-size: 0.8em; font-weight: 400;
    color: #28a745; text-transform: capitalize;
}

/* --- ESTILOS DE ICONO DE CARRITO --- */
#cartIcon {
    position: relative;
    cursor: pointer;
}
#cartCountBadge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: var(--error-color);
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 10px;
    font-weight: bold;
    display: none; /* Se muestra con JS */
    transition: transform 0.3s ease;
}
.sidebar:hover #cartCountBadge {
     right: 15px; /* Ajustar posición en hover */
}
#cartIcon:hover #cartCountBadge {
    transform: scale(1.1);
}

.sidebar-menu {
    flex-grow: 1; 
    overflow-y: auto; overflow-x: hidden;
}

.sidebar-item, .submenu-item {
    padding: 15px 20px; display: flex; align-items: center;
    color: rgba(255, 255, 255, 0.8); cursor: pointer;
    transition: all 0.3s ease; border-left: 3px solid transparent; width: 100%;
    text-decoration: none; /* Para los <a> */
}
.sidebar-item:hover, .sidebar-item.active,
.submenu-item:hover, .submenu-item.active {
    background: rgba(255, 255, 255, 0.1); color: white;
    border-left: 3px solid #28a745;
}
.sidebar-item i { font-size: 18px; margin-right: 15px; min-width: 20px; text-align: center; }
.sidebar-item span { white-space: nowrap; opacity: 0; transition: opacity 0.3s ease; }
.sidebar:hover .sidebar-item span { opacity: 1; }

/* Estilos de Submenu (Sin cambios) */
.sidebar-item.has-submenu {
    justify-content: space-between;
}
.sidebar:not(:hover) .sidebar-item.has-submenu .chevron {
    display: none; /* Ocultar chevron cuando colapsado */
}
.chevron {
    font-size: 0.7em;
    transition: transform 0.3s ease;
}
.sidebar-item.open .chevron {
    transform: rotate(180deg);
}
.submenu {
    max-height: 0;
    overflow: hidden;
    background: rgba(0,0,0,0.2);
    transition: max-height 0.3s ease-out;
}
.submenu.open {
    max-height: 200px; /* Altura suficiente para 2-3 items */
}
.submenu-item {
    padding-left: 30px; /* Indentación */
}
.submenu-item i {
    font-size: 14px; /* Iconos más pequeños */
    margin-right: 12px;
}
.sidebar:hover .submenu-item span {
    opacity: 1; /* Mostrar texto siempre en submenús */
}
.sidebar:not(:hover) .submenu {
    display: none; /* Ocultar submenús si la barra no está expandida */
}

.logout-section {
    margin-top: auto; border-top: 1px solid #334;
    flex-shrink: 0;
}
.logout-section .sidebar-item:hover {
    background: rgba(255, 59, 48, 0.2); 
    border-left-color: #ff3b30;
}

.content { flex: 1; padding: 25px; overflow-y: auto; }
.header-section {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee;
}
.header-section h1, .header-section h2 { color: #28a745; font-weight: 600; font-size: 24px; margin: 0; }

/* Estilos de Formulario (Sin cambios) */
.form-row { display: flex; gap: 20px; margin-bottom: 15px; align-items: flex-start; }
.form-group { flex: 1; margin-bottom: 15px; }
.form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #555; }
.form-group input, .form-group select {
    width: 100%; padding: 12px; border: 1px solid #ddd;
    border-radius: 8px; font-size: 14px; transition: border-color 0.3s, box-shadow 0.3s;
}
.form-group input:focus, .form-group select:focus {
    border-color: #28a745; box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    outline: none;
}
.readonly-input { background-color: #f8f9fa; cursor: not-allowed; }
.compact-form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 15px; margin-bottom: 20px;
}
.compact-form-grid .form-group input,
.compact-form-grid .form-group select { padding: 10px; }
.compact-form-grid .form-group { margin-bottom: 0; }
.multi-input-group { display: flex; align-items: flex-end; gap: 10px; }
.multi-input-group input { flex-grow: 1; }
.multi-input-group button { height: 45px; padding: 0 15px;}
.compact-form-grid .multi-input-group button { height: 41px; }
.item-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; padding: 8px; background: #f8f9fa; border-radius: 8px; min-height: 40px; }
.item-tag { background: #28a745; color: white; padding: 5px 10px; border-radius: 15px; font-size: 13px; display: flex; align-items: center; gap: 5px; }
.item-tag .remove-item { cursor: pointer; font-weight: bold; }
.table-container { width: 100%; overflow-x: auto; }
table {
    width: 100%; border-collapse: collapse; margin: 20px 0;
    background: white; border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); min-width: 600px;
}
th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #eee; }
th { background-color: #f8f9fa; color: #28a745; font-weight: 600; }
tr:nth-child(even) { background-color: #fafafa; }
tr:hover { background-color: #f1f9f5; }
.button-group { margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap; }
.button-group button {
    padding: 12px 20px; border: none; border-radius: 8px;
    cursor: pointer; font-weight: 500; transition: all 0.3s;
}
.compact-form-grid .add-product {
     padding: 10px 15px; height: 41px;
}
.button-group button.add-product { background: #28a745; color: white; }
.button-group button.save-invoice { background: linear-gradient(135deg, #007bff, #0056b3); color: white; }
.button-group button.export-pdf { background: #dc3545; color: white; }
.button-group button.export-excel { background: #20c997; color: white; }
.button-group button.delete-invoice { background: #6c757d; color: white; }
.button-group button:hover { opacity: 0.9; transform: translateY(-2px); }
.totals-row { font-weight: 600; background-color: #f1f9f5 !important; }
.totals-row td { border-top: 2px solid #28a745; }
.hidden { display: none; }
.copyright {
    background: rgba(0, 0, 0, 0.8); color: rgba(255, 255, 255, 0.7);
    text-align: center; padding: 8px; font-size: 12px; z-index: 1000;
    width: 100%;
}
body.login-active .copyright { position: fixed; bottom: 0; }

/* Estilos de Buzon (Sin cambios) */
.buzon-container { display: none; flex-direction: column; gap: 15px; }
.buzon-item { background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 4px solid #28a745; position: relative; }
.buzon-item.factura-item { border-left-color: #007bff; }
.buzon-item h3 { margin-bottom: 10px; color: #28a745; }
.buzon-item.factura-item h3 { color: #007bff; }
.buzon-item p { margin: 5px 0; font-size: 14px; }
.buzon-actions { display: flex; gap: 10px; margin-top: 10px; }
.buzon-actions button { padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; font-size: 12px; }
.buzon-actions .export-pdf { background: #dc3545; color: white; }
.buzon-actions .export-excel { background: #20c997; color: white; }
.buzon-actions .delete-invoice { background: #6c757d; color: white; }
.sede-selector { margin-bottom: 15px; }
.sede-selector select { padding: 8px; border-radius: 5px; border: 1px solid #ddd; }

/* Opciones de Informes (Sin cambios) */
.report-options-container { display: none; flex-direction: column; gap: 20px; }
.report-options-form { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.report-options-row { display: flex; gap: 20px; margin-bottom: 15px; align-items: flex-end; }
.report-options-group { flex: 1; }
.report-options-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #555; }
.report-options-group input, .report-options-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
.report-options-list { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.report-option-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee; }
.report-option-item:last-child { border-bottom: none; }
.report-option-actions button { padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer; font-size: 12px; margin-left: 10px; }
.report-option-actions .delete-option { background: #dc3545; color: white; }

/* Estilos de Sección "Cuentas" (Sin cambios) */
#cuentasSection { display: none; }
#cuentasListContainer {
    display: flex; flex-direction: column; gap: 10px;
    background: white; border-radius: 12px; padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.cuenta-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 15px; border: 1px solid #eee; border-radius: 8px;
}
.cuenta-info { display: flex; flex-direction: column; }
.cuenta-username { font-weight: 700; font-size: 1.1em; color: #333; }
.cuenta-role {
    font-size: 0.9em; font-weight: 500; text-transform: capitalize;
    padding: 2px 8px; border-radius: 10px; color: white;
    margin-top: 5px;
    width: fit-content;
}
.cuenta-role.administrador { background-color: var(--error-color); }
.cuenta-role.moderador { background-color: #007bff; }
.cuenta-role.usuario { background-color: #6c757d; }
.cuenta-item button[disabled] {
    background-color: #e0e0e0;
    cursor: not-allowed;
}

/* --- ESTILOS DE SECCIÓN "ALMACÉN" (Sin cambios) --- */
#almacenSection { display: none; }
#almacenesListContainer {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
    margin-top: 20px;
}
.almacen-creator-form {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    display: flex;
    gap: 20px;
    align-items: flex-end;
}
.almacen-creator-form .form-group {
    margin: 0;
    flex: 1;
}
.almacen-creator-form button {
    padding: 12px 20px;
    height: 45px;
    flex-shrink: 0;
}
.almacen-container {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    border-top: 4px solid var(--primary-color);
}
.almacen-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
}
.almacen-header h3 {
    margin: 0;
    color: #333;
    font-size: 1.3em;
    font-weight: 600;
}
.almacen-header button {
    background: none;
    border: none;
    color: var(--error-color);
    cursor: pointer;
    font-size: 1.2em;
    opacity: 0.7;
    transition: opacity 0.3s;
}
.almacen-header button:hover {
    opacity: 1;
}
.almacen-body {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.producto-form-grid {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr 1fr;
    gap: 15px;
    align-items: flex-end;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 8px;
}
.producto-form-grid .form-group {
    margin: 0;
}
.producto-form-grid .form-group input {
    padding: 10px;
}
.producto-form-grid button {
    height: 41px;
    grid-column: 1 / -1; /* Ocupa toda la fila */
}
.producto-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.producto-item {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr auto;
    align-items: center;
    gap: 15px;
    padding: 12px 15px;
    border: 1px solid #eee;
    border-radius: 8px;
    transition: background-color 0.3s;
}
.producto-item:hover {
    background-color: #fcfcfc;
}
.producto-item .producto-info {
    display: flex;
    flex-direction: column;
}
.producto-info .producto-nombre {
    font-weight: 600;
    color: #333;
}
.producto-info .producto-codigo {
    font-size: 0.85em;
    color: #777;
}
.producto-item .stock-level {
    font-weight: 700;
    font-size: 1.1em;
}
.stock-level.low { color: var(--error-color); }
.stock-level.medium { color: #f5a623; }
.stock-level.high { color: var(--success-color); }
.producto-item .producto-precio {
    font-weight: 500;
    color: #555;
}
.producto-item button {
    background: none;
    border: none;
    color: var(--error-color);
    cursor: pointer;
    opacity: 0.7;
}
.producto-item button:hover {
    opacity: 1;
}

/* --- (MODIFICADO) ESTILOS DE TIENDA (POS) --- */
#posSection { display: none; }
.pos-header {
    display: flex; gap: 20px; align-items: center;
    padding: 15px; background: white; border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 25px;
}
.pos-header .form-group { flex: 1; margin: 0; }
.pos-header .form-group label { font-weight: 700; color: #333; }
.pos-header .form-group select { padding: 12px; font-size: 16px; }
#pos_productSearch {
    padding: 12px; font-size: 16px; border-radius: 8px;
    border: 1px solid #ddd; flex: 1.5;
    transition: border-color 0.3s, box-shadow 0.3s;
}
#pos_productSearch:focus {
    border-color: #28a745; box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    outline: none;
}

#posProductGrid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}
.pos-product-card {
    background: white; border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
    border: 1px solid #eee;
    display: flex; flex-direction: column;
    transition: all 0.3s ease;
}
.pos-product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }

/* (NUEVO) Estilos de Icono de Producto en POS */
.pos-product-icon {
    text-align: center;
    padding: 20px 15px 10px 15px;
    font-size: 3.5em; /* Grande */
    color: #ccc; /* Color suave */
    transition: all 0.3s ease;
}
.pos-product-card:hover .pos-product-icon {
    color: #28a745; /* Color al hacer hover en la tarjeta */
    transform: scale(1.1);
}
.pos-product-info {
    padding: 10px 15px 15px 15px; /* Reducir padding superior */
    text-align: center; /* Centrar texto */
    flex-grow: 1;
}
.pos-product-info .product-nombre {
    font-weight: 600; color: #333;
    font-size: 1em; /* Ligeramente más pequeño */
    height: 40px; /* Asegurar altura consistente */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}
.pos-product-info .product-precio { font-weight: 700; color: #28a745; font-size: 1.2em; margin: 8px 0; }
.pos-product-info .product-stock { font-size: 0.9em; color: #777; }
.pos-product-info .stock-low { color: var(--error-color); font-weight: 600; }
.pos-product-info .stock-medium { color: #f5a623; font-weight: 600; }

.pos-product-actions { padding: 10px; border-top: 1px solid #f0f0f0; }
.pos-product-actions input {
    width: 100%; text-align: center; padding: 8px;
    border: 1px solid #ddd; border-radius: 5px; margin-bottom: 10px;
}
.pos-product-actions button {
    width: 100%; padding: 10px; background: #28a745; color: white;
    border: none; border-radius: 5px; cursor: pointer; font-weight: 600;
}
.pos-product-actions button:disabled { background: #aaa; cursor: not-allowed; }

/* --- ESTILOS DE MODAL DE CARRITO --- */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.6); z-index: 1000;
    display: none; /* Oculto por defecto */
    align-items: center; justify-content: center;
}
.modal-content {
    background: #f5f7fa; color: #333;
    width: 90%; max-width: 600px;
    border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    max-height: 80vh; display: flex; flex-direction: column;
    overflow: hidden;
}
.modal-header {
    padding: 15px 20px; border-bottom: 1px solid #ddd;
    display: flex; justify-content: space-between; align-items: center;
}
.modal-header h2 { margin: 0; color: #28a745; }
.modal-close { font-size: 24px; cursor: pointer; color: #aaa; background: none; border: none; }
.modal-body { padding: 20px; overflow-y: auto; flex-grow: 1; }
.modal-footer {
    padding: 15px 20px; border-top: 1px solid #ddd;
    background: #fff; display: flex; justify-content: space-between; align-items: center;
}
.modal-total { font-size: 1.2em; font-weight: 700; }
.modal-checkout-btn {
    background: #007bff; color: white; padding: 12px 20px;
    border: none; border-radius: 8px; font-weight: 600; cursor: pointer;
}
.modal-checkout-btn:disabled { background: #ccc; }

.cart-item {
    display: flex; align-items: center; gap: 15px;
    padding: 10px 0; border-bottom: 1px solid #eee;
}
.cart-item-info { flex-grow: 1; }
.cart-item-info span { display: block; }
.cart-item-info .cart-item-nombre { font-weight: 600; }
.cart-item-info .cart-item-precio { font-size: 0.9em; color: #555; }
.cart-item-actions { display: flex; align-items: center; gap: 8px; }
.cart-item-actions input { width: 50px; text-align: center; padding: 5px; border: 1px solid #ccc; border-radius: 5px; }
.cart-item-actions .cart-remove-btn { color: var(--error-color); cursor: pointer; font-size: 1.1em; }
#cartEmptyMessage { text-align: center; color: #777; padding: 20px; }


/* Responsive (Sin cambios) */
@media (max-width: 768px) {
    .content { padding: 15px; }
    .header-section h1, .header-section h2 { font-size: 18px; }
    .form-row, .report-options-row { flex-direction: column; gap: 0; }
    .sidebar { position: absolute; z-index: 100; height: 100%; }
    .sidebar:hover { box-shadow: 10px 0px 30px rgba(0,0,0,0.1); }
    /* Responsive Almacén */
    .producto-form-grid {
        grid-template-columns: 1fr 1fr;
    }
    .producto-item {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    .producto-item .producto-info { grid-column: 1 / 2; }
    .producto-item .stock-level { grid-column: 2 / 3; text-align: right;}
    .producto-item .producto-precio { grid-column: 1 / 2; }
    .producto-item .delete-btn { grid-column: 2 / 3; text-align: right; }
    /* (NUEVO) Responsive POS */
    .pos-header { flex-direction: column; align-items: stretch; }
}
@media (max-width: 480px) {
    .login-wrapper { padding: 20px; margin: 0 10px; width: auto; }
    .button-group { flex-direction: column; }
    .button-group button { width: 100%; }
    .main-container { width: 100%; height: 100vh; margin: 0; border-radius: 0; }
     /* Responsive Almacén */
    .almacen-creator-form { flex-direction: column; align-items: stretch; }
    .almacen-creator-form button { width: 100%; }
    .producto-form-grid, .producto-item { grid-template-columns: 1fr; }
    .producto-item .stock-level, .producto-item .delete-btn { text-align: left; }
}
 /* --- (NUEVO) ESTILOS BUZÓN DE PEDIDOS --- */
#inboxCountBadge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: var(--error-color);
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 10px;
    font-weight: bold;
    display: none; /* Se muestra con JS */
}
.sidebar:hover #inboxCountBadge {
     right: 15px; /* Ajustar posición en hover */
}

/* Ajustes al modal de buzón (reutilizado) */
#inboxModal .buzon-item {
    margin-bottom: 15px;
    border-left-color: #007bff;
}
#inboxModal .buzon-item h3 {
    color: #007bff;
}